{# smart_review_card.j2 - Smart Commit Review Card Template #}
{# Variables: message, files, security_issues, lefthook_report, status, commit_hash #}

{%- if status == "pending" -%}
## ğŸ›¡ï¸ Commit Review

**Status**: â³ Waiting for approval
**Message**: `{{ message }}`
**Files**: {{ files|length }} staged

{%- if security_issues %}
âš ï¸ **Security Issues**: {{ security_issues|join(", ") }}
{%- else %}
ğŸ›¡ï¸ **Security**: Passed
{%- endif %}

{%- if lefthook_report %}
{{ lefthook_report }}
{%- endif %}

---
**Action Required**: Reply `Yes` to approve, `No` to cancel

{%- elif status == "approved" -%}
## âœ… Commit Approved

**Message**: `{{ message }}`
**Commit**: `{{ commit_hash }}`

{%- elif status == "rejected" -%}
## âŒ Commit Cancelled

**Message**: `{{ message }}`

ğŸ›‘ You rejected this commit.

{%- elif status == "security_violation" -%}
## âš ï¸ Security Issue Detected

**Message**: `{{ message }}`

âš ï¸ **Security Issues**: {{ security_issues|join(", ") }}

**Action Required**: Fix security issues before committing.
Remove sensitive files or add them to .gitignore.

{%- elif status == "error" -%}
## âŒ Error Occurred

**Message**: `{{ message }}`

**Error**: {{ error }}

{%- endif -%}
