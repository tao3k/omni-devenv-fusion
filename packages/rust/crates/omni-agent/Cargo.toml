[package]
name = "omni-agent"
version.workspace = true
edition.workspace = true
description = "Minimal Rust agent loop: LLM + MCP tools, single turn (Phase B)"
authors = ["Omni-Dev-Fusion Team"]
license = "Apache-2.0"
publish = false
default-run = "omni-agent"

[dependencies]
tokio = { workspace = true, features = ["rt-multi-thread", "macros", "signal", "sync", "time"] }
serde = { workspace = true }
serde_json = { workspace = true }
anyhow = { workspace = true }
async-trait = "0.1"
tracing = { workspace = true }
tracing-subscriber = { workspace = true }
reqwest = { workspace = true, features = ["multipart"] }
redis = { version = "1.0.3", default-features = false, features = ["tokio-comp"] }
pulldown-cmark = "0.12"
serde_yaml = "0.9"
regex = "1"
sha2 = "0.10"
hex = "0.4"

omni-mcp-client = { path = "../omni-mcp-client" }
omni-memory = { path = "../omni-memory", default-features = false, features = ["valkey"] }
xiuxian-qianhuan = { path = "../xiuxian-qianhuan" }
omni-window = { path = "../omni-window" }
omni-tokenizer = { path = "../omni-tokenizer" }
rmcp = { workspace = true }
axum = { workspace = true, features = ["multipart"] }
clap = { workspace = true }

[dev-dependencies]
tempfile = { workspace = true }
tower = { version = "0.5", features = ["util"] }

[lints]
workspace = true
