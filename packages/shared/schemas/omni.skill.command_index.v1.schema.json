{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "omni.skill.command_index.v1.schema.json",
  "title": "Omni Skill Command Index Record v1",
  "description": "Canonical Rust scanner record used by Python ToolsLoader command index.",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "schema",
    "tool_name",
    "description",
    "skill_name",
    "file_path",
    "function_name",
    "execution_mode",
    "keywords",
    "input_schema",
    "docstring",
    "file_hash",
    "category"
  ],
  "properties": {
    "schema": { "type": "string", "const": "omni.skill.command_index.v1" },
    "tool_name": { "type": "string", "minLength": 1 },
    "description": { "type": "string" },
    "skill_name": { "type": "string", "minLength": 1 },
    "file_path": { "type": "string", "minLength": 1 },
    "function_name": { "type": "string", "minLength": 1 },
    "execution_mode": { "type": "string" },
    "keywords": { "type": "array", "items": { "type": "string" } },
    "input_schema": { "type": "string" },
    "docstring": { "type": "string" },
    "file_hash": { "type": "string" },
    "category": { "type": "string" }
  }
}
