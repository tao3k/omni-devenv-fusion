[project]
name = "omni-foundation"
version = "0.5.0"
description = "Omni Foundation - Infrastructure Layer (AI, VCS, Text, Logging)"
readme = "README.md"
requires-python = ">=3.12"

dependencies = [
    "xiuxian-wendao-py",
    "structlog>=24.0.0",
    "orjson>=3.10.0",
    "psutil>=5.9.0",
    # AI & Embeddings
    # Unified LLM Interface (100+ providers, includes OpenAI)
    "litellm>=1.0.0",
    # Local Embedding (Apple Silicon optimized)
    "sentence-transformers>=2.2.0",
    # VCS
    "gitpython>=3.1.0",
    # Text & Data
    "jinja2>=3.1.0",
    # Database
    "lancedb>=0.17.0",
    # Workflow Engine
    "langgraph>=1.0.5",
    # Utils
    "pydantic>=2.7.0",
]

[tool.uv]
package = true


# RAG - Multimodal Document Processing (RAG-Anything)
[tool.uv.dependencies]
raganything = { git = "https://github.com/HKUDS/RAG-Anything.git" }

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"


[tool.hatch.build.targets.wheel]
packages = ["src/omni"]


[tool.pyright]
pythonVersion = "3.12"
typeCheckingMode = "strict"


[tool.pytest]
markers = ["slow", "architecture"]
asyncio_mode = "auto"
